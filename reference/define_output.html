<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Define SWAT output variables — define_output • SWATplusR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Define SWAT output variables — define_output"><meta property="og:description" content="Define the SWAT output variables that should be extracted after the SWAT
model execution and be returned to R. It is required to use this function to
pass the desired outputs with the variable output in the function calls
run_swat2012 and run_swatplus. See
the examples how to use the output definition together with
run_swat2012 or run_swatplus. Further, more comprehensive
examples are provided on the package's 'Get Started' page in the section
'First SWAT model runs."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SWATplusR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.5.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/chrisschuerz/SWATplusR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Define SWAT output variables</h1>
    <small class="dont-index">Source: <a href="https://github.com/chrisschuerz/SWATplusR/blob/HEAD/R/define_output.R" class="external-link"><code>R/define_output.R</code></a></small>
    <div class="hidden name"><code>define_output.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Define the SWAT output variables that should be extracted after the SWAT
model execution and be returned to R. It is required to use this function to
pass the desired outputs with the variable <code>output</code> in the function calls
<code><a href="run_swat2012.html">run_swat2012</a></code> and <code><a href="run_swatplus.html">run_swatplus</a></code>. See
the examples how to use the <code>output</code> definition together with
<code><a href="run_swat2012.html">run_swat2012</a></code> or <code><a href="run_swatplus.html">run_swatplus</a></code>. Further, more comprehensive
examples are provided on the package's 'Get Started' page in the section
'<a href="https://chrisschuerz.github.io/SWATplusR/articles/SWATplusR.html#first-swat-model-runs" class="external-link">First SWAT model runs</a>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">define_output</span><span class="op">(</span><span class="va">file</span>, variable <span class="op">=</span> <span class="cn">NULL</span>, unit <span class="op">=</span> <span class="cn">NULL</span>, expression <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>file</dt>
<dd><p>Character string. The SWAT output file to read.
(Valid inputs are <code>'rch'</code>, <code>'sub'</code>, <code>'hru'</code>, and <code>'sed'</code> for
the respective SWAT2012 output files 'output.rch', 'output.sub',
output.hru', and 'output.sed'. For the respective SWAT+ output files see
the available options in the 'print.prt' file of your SWAT+ project).</p></dd>
<dt>variable</dt>
<dd><p>Character string. Output variable that is extracted from the
respective SWAT output file defined with <code>file</code>. For a correct
definition of SWAT2012 output variables please use the
variable documented in the
<a href="https://swat.tamu.edu/media/69395/ch32_output.pdf" class="external-link">SWAT Output Data
Documentation</a>. For SWAT+ output variables please use the header names from
the respective output table, <strong>without the units!</strong> Optionally, the
column number of a variable in the respective output file can be provided.
<strong>CAUTION:</strong> spaces (e.g. in P TOT) must be replaced with underscores
(P_TOT).</p></dd>
<dt>unit</dt>
<dd><p>Numeric vector. The spatial unit (e.g. the reach, subbasin, or
HRU) defined by the columns 'RCH', 'SUB', 'HRU' in the respective SWAT2012
output file or the 'unit' column in the SWAT+ output file for which the
outputs should be extracted.</p></dd>
<dt>expression</dt>
<dd><p>As an alternative to <code>variable</code> and <code>unit</code> an
expression can be defined as a string to perform an individual extraction of outputs.
This is still experimental and is not necessary in most cases!</p></dd>
</dl></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># A single variable can be defined as follows (e.g. "FLOW_OUT" for</span></span>
<span class="r-in"><span class="co"># the reaches 1 and 5):</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">out_flow</span> <span class="op">&lt;-</span> <span class="fu">define_output</span><span class="op">(</span>file <span class="op">=</span> <span class="st">"rch"</span>,</span>
<span class="r-in">                          variable <span class="op">=</span> <span class="st">"FLOW_OUT"</span>,</span>
<span class="r-in">                          unit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># In this case the the variable name of the returned output is then</span></span>
<span class="r-in"><span class="co"># the same as defined with 'variable', here "FLOW_OUT"</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># If a custom variable name is preferred for the returned output,</span></span>
<span class="r-in"><span class="co"># the output must be defined as named list:</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">out_flow</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>discharge <span class="op">=</span> <span class="fu">define_output</span><span class="op">(</span>file <span class="op">=</span> <span class="st">"rch"</span>,</span>
<span class="r-in">                                           variable <span class="op">=</span> <span class="st">"FLOW_OUT"</span>,</span>
<span class="r-in">                                           unit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Define the discharge for the RCH units 1 to 5 and the</span></span>
<span class="r-in"><span class="co"># nitrate-nitrogen load and ET for the unit 5:</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">out_def</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>flow <span class="op">=</span> <span class="fu">define_output</span><span class="op">(</span>file <span class="op">=</span> <span class="st">"rch"</span>,</span>
<span class="r-in">                                     variable <span class="op">=</span> <span class="st">"FLOW_OUT"</span>,</span>
<span class="r-in">                                     unit <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>,</span>
<span class="r-in">                no3  <span class="op">=</span> <span class="fu">define_output</span><span class="op">(</span>file <span class="op">=</span> <span class="st">"rch"</span>,</span>
<span class="r-in">                                     variable <span class="op">=</span> <span class="st">"NO3_OUT"</span>,</span>
<span class="r-in">                                     unit <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>,</span>
<span class="r-in">                et_a <span class="op">=</span> <span class="fu">define_output</span><span class="op">(</span>file <span class="op">=</span> <span class="st">"sub"</span>,</span>
<span class="r-in">                                     variable <span class="op">=</span> <span class="st">"ET"</span>,</span>
<span class="r-in">                                     unit <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Define output with an expression:</span></span>
<span class="r-in"><span class="co"># E.g. directly extract P_TOT concentrations for reach 5 from</span></span>
<span class="r-in"><span class="co"># daily simulations:</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">expr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"dplyr::filter(., RCH == 5) %&gt;% "</span>,</span>
<span class="r-in">               <span class="st">"dplyr::filter(., MON %in% 1:12) %&gt;% "</span>,</span>
<span class="r-in">               <span class="st">"dplyr::select(., FLOW_OUT, P_TOT) %&gt;% "</span>,</span>
<span class="r-in">               <span class="st">"dplyr::mutate(., P_CONC = P_TOT/FLOW_OUT/86.4) %&gt;% "</span>,</span>
<span class="r-in">               <span class="st">"dplyr::select(., P_CONC)"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">out_def</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>p_conc <span class="op">=</span> <span class="fu">define_output</span><span class="op">(</span>file <span class="op">=</span><span class="st">"rch"</span>, expression <span class="op">=</span> <span class="va">expr</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in define_output(file = "rch", expression = expr):</span> If 'expression' is given, 'unit' must be provided as well.</span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Christoph Schuerz.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

